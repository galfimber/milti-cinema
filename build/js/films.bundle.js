!function(){"use strict";let e;document.querySelectorAll(".genre__title").forEach((n=>{n.addEventListener("click",(t=>{e=n.dataset.genre,async function(e){const n=await fetch(e,{headers:{"Content-Type":"application/json","X-API-KEY":"84S4SNX-Y084WMK-K7FV73W-8G8P6MH"}}),t=await n.json();console.log(t),function(e){const n=document.querySelector(".films"),t=document.querySelector(".pagination");n.innerHTML="",e.docs.forEach((e=>{const t=document.createElement("a");var a;e.watchability.items.forEach((e=>{e.name,t.href=e.url})),t.target="_blank",t.classList.add("film"),t.innerHTML=`\n          <div class="movie__cover-inner">\n          <img src="${e.poster.url}" alt="${e.name}" class="movie__cover">\n          <div class="movie__cover--darkened"></div>\n      </div>\n      <div class="movie__info">\n          <div class="movie__title">${e.name}</div>\n          <div class="movie__category">${e.genres.map((e=>` ${e.name}`))}</div>\n          <a class="movie__link" href="https://www.ggkinopoisk.ru/film/${e.id}/" target=_blank>Смотреть бесплатно</a>\n          <div class="movie__average movie__average--${a=e.rating.imdb,a>=8?"green":a>=5?"orange":"red"}">${e.rating.imdb}</div>\n      </div>\n          `,n.appendChild(t)}));const a=document.createElement("div");a.classList.add("pages"),a.innerHTML=`\n        <button class="pagination__btn" onclick="selectPage(1)">1</button>\n        <button class="pagination__btn" onclick="selectPage(${e.page-2})">${e.page-2}</button>\n        <button class="pagination__btn" onclick="selectPage(${e.page-1})">${e.page-1}</button>\n        <button class="pagination__btn" onclick="selectPage(${e.page})">${e.page}</button>\n        <button class="pagination__btn" onclick="selectPage(${e.page+1})">${e.page+1}</button>\n        <button class="pagination__btn" onclick="selectPage(${e.page+2})">${e.page+2}</button>\n        <button class="pagination__btn" onclick="selectPage(${e.pages})">${e.pages}</button>\n    `,t.appendChild(a)}(t)}(`https://api.kinopoisk.dev/v1.3/movie?page=1&limit=12&genres.name=${encodeURIComponent(e)}`)}))}))}();